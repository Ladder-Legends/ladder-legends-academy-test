#!/bin/sh

# Skip hooks in Termux environment (native binaries not compatible)
if [ -n "$TERMUX_VERSION" ] || [ -d "/data/data/com.termux" ]; then
  echo "â­ï¸  Skipping pre-commit tests (Termux environment detected)"
  exit 0
fi

echo "ğŸ§ª Running tests before commit..."

# Run all tests
npm test || {
  echo "âŒ Tests failed! Please fix failing tests before committing."
  exit 1
}

echo "âœ… All tests passed!"
